<div ng-init="vm.init()">
	<div class="col-lg-12" >
        <div class="progress col-lg-3">
            <img src="../server/public/picture/item_tv.jpg" style="width:100%" class="img-thumbnail">
            <div class="progress-bar progress-bar-warning progress-bar-striped" role="progressbar"
                 style="width:100%">
                Get Bidded
            </div>
        </div>
        <div class="col-lg-6" style="padding:10px 40px;font-size: 17px;border-right:1px lightgray solid">
        	<div>Item Id: {{vm.itemDetail.itemId}}</div>
            <div>{{vm.itemDetail.itemTitle}}</div>
            <div style="font-size:90%;width:200px;display:inline-block">
                by <a ui-sref="shareeconomy.visitorReview({user:'Moyu Liang'})">{{vm.itemDetail.sellerBy}}</a>
                <span uib-rating 
                    ng-model="vm.itemDetail.rate" 
                    max="5" 
                    read-only="true" 
                    popover-placement="right" 
                    uib-popover-template="'app/feature/itemDetail/popOver/ratePopOver.html'"
                    popover-trigger="'mouseenter'"
                    style="position:absolute;padding-left:15px;margin-top:2px;color:#f2ae44">
                </span>
            </div>
            <div style="display:inline-block;padding-left:20px">
                <label>Answered Questions:</label> <a style="font-size:16px" ng-click="vm.goToAnswerQuestion()">{{vm.itemDetail.questionsNum}} </a>
            </div>
            <div style="font-size: 80%;margin-top:10px">
            	<hr style="margin-top:0px">
            	<label style="">Collected By:</label> <a style="font-size:16px">{{vm.itemDetail.collectedNum}} customers </a>
                <br>
                <label style="">Bargain With:</label> <a style="font-size:16px" ng-click="vm.showBargainDetail = !vm.showBargainDetail"><i class="fa fa-caret-down" aria-hidden="true" ng-show="vm.showBargainDetail"></i> <i class="fa fa-caret-right" aria-hidden="true" ng-show="!vm.showBargainDetail"></i> {{vm.itemDetail.bargainNum}} customers</a>
                <div class="animate-show" ng-show="vm.showBargainDetail">
                    <table class="table table-info table-hover" style="font-size: 13px;margin-bottom:0px" >
                        <thead>
                            <tr>
                                <td>Name</td>
                                <td>Trade Item</td>
                                <td>Create Date</td>
                                <td>Expire Date</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><a ui-sref='shareeconomy.visitorReview'>Yinyu Niu</a></td>
                                <td>Item Id:<a> 12051 </a>+ $86</td>
                                <td>06/27/2016</td>
                                <td>07/01/2016</td>
                            </tr>
                            <tr>
                                <td><a ui-sref='shareeconomy.visitorReview'>Rui Li</a></td>
                                <td>Item Id:<a> 11655</a></td>
                                <td>05/27/2016</td>
                                <td>06/01/2016</td>
                            </tr>
                            <tr>
                                <td><a ui-sref='shareeconomy.visitorReview'>David</a></td>
                                <td>Item Id:<a> 13789</a></td>
                                <td>05/27/2016</td>
                                <td>06/01/2016</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <br>
                <label style="">Seller EST Price:</label> <span style="font-size:16px;color:#f2ae44">${{vm.itemDetail.sellerEstPrice}} </span>
                <br>
                <label style="">Brand New Item in Market:</label> <span style="font-size:16px;color:#f2ae44">${{vm.itemDetail.newItemPrice}}  </span><a style="padding-left:10px" href="https://www.amazon.com/dp/B01BGC39JY/ref=s9_acss_bw_hsb_TVBBWK35_s3_n?pf_rd_m=ATVPDKIKX0DER&pf_rd_s=merchandised-search-3&pf_rd_r=YTR1AECWZFHENKVZHY8G&pf_rd_t=101&pf_rd_p=2596992402&pf_rd_i=1266092011" target="_blank"> Check same item in amazon</a>
                <br>
                <label>Items Description:</label>
                <br>
                <panel class="col-lg-12" style='font-size: 13px'>
                    <ul style="padding-left:20px">
                        <li ng-repeat='description in vm.itemDetail.descriptions' style="text-align:justify">
                            {{description}}
                        </li>
                    </ul>
                </panel>
            </div>
        </div>
	    <div class="col-lg-3" style="margin-top:50px">
            
            <button class="btn btn-ml btn-warning col-lg-12" style="text-align:left"><i class="fa fa-shopping-cart" aria-hidden="true" style="margin-right:10px"></i> Add the Item to Shopping Cart</button>
            <br><br>
            <button class="btn btn-ml btn-info col-lg-12" style="text-align:left"><i class="fa fa-shopping-basket" aria-hidden="true" style="margin-right:10px"></i> Add the Item To Wish List</button>
        </div>     
    </div>
    <div class="col-lg-12" style="padding-bottom:100px" id="answerQuestion">
    	<hr> 
    	<h4>Customer Questions & Answers</h4>
    	<br>
    	<div class="col-lg-12" ng-repeat="question in vm.questions.questionContents track by $index" style="padding-bottom:20px;margin-bottom:10px">
			<div class="col-lg-1" style="text-align:center;border-right:1px grey solid">
	    		<i class="fa fa-lg fa-thumbs-o-up" aria-hidden="true"></i>
	    		<span style="display:block;padding:10px 0">{{question.voteNum}}</span>
	    		<i class="fa fa-lg fa-thumbs-o-down" aria-hidden="true"></i>
	    	</div>
	    	<div class="col-lg-9" style="text-align:left;">
	    		<div>
		    		<div>
		    			<div class="col-lg-2" style="font-weight:bold;font-size:15px">Question: </div>
		    			<div class="col-lg-10" style="padding-left:15px"><a>{{question.questionTitle}}</a></div>
		    		</div>
	    			<br><br>
	    			<div>
		    			<div class="col-lg-2" style="font-weight:bold;font-size:15px;clear:both">Answer: </div>
		    			<div class="col-lg-10" style="float:right;padding-bottom:10px" ng-repeat="answer in question.answers" ng-show="$index<=vm.showAnswerNum[$parent.$index]">
		    				<span>{{answer.answerContent}}</span><br>
		    				<a style="font-size:13px;color:#ff4400" ng-click="vm.openEditCommentsModal($parent.$index, $index,'#commentModal')">See The Comments on This Answer</a>
		    				<div style="float:right;font-size:13px">By <a>{{answer.answerBy}}</a> on May 26, 2015</div>
		    				<hr style="clear:both;margin-top:20px">
		    			</div>
		    		</div>
		    		<div style="float:left;padding-left:19%">
		    		<button class="btn btn-info btn-xs" style="padding:0 5px;margin-right:10px" ng-click="vm.showMoreAnswers($index)" ng-disabled='vm.showAnswerNum[$index]>=question.answersNum-1'>See More Answers <span class="badge">{{question.answersNum-vm.showAnswerNum[$index]-1}}</span></button>
                    <button class="btn btn-info btn-xs" style="padding:0 5px;margin-right:10px" ng-click="vm.addAnswer($index,'#answerModal')">Add a Answer</button>
		    		<button class="btn btn-default btn-xs" ng-click='vm.showAnswerNum[$index]=0'>Collapse All</button>
	    			</div>
	    		</div>
	    	</div>
    	</div>
    </div>
    
    <div class="lightbox-container" >
        <snap-lightbox
                box-id = "commentModal"
                box-type = "right"
                right-class='col-lg-6'>
            <span class="glyphicon glyphicon-remove" style="float:right;cursor: pointer;" ng-click="vm.closeEditCommentsModal('#commentModal')"></span>
            <div class="lightbox-body" ng-include="'app/feature/itemDetail/modal/editCommentModal.html'"></div>
        </snap-lightbox>
        <snap-lightbox
                box-id = "answerModal"
                box-type = "right"
                right-class='col-lg-4'>
            <span class="glyphicon glyphicon-remove" style="float:right;cursor: pointer;" ng-click="vm.closeAnswerModal('#answerModal')"></span>
            <div class="lightbox-body" ng-include="'app/feature/itemDetail/modal/addAnswerModal.html'"></div>
        </snap-lightbox>
        <snap-lightbox
                box-id = "bargainWithModal"
                box-type = "right"
                right-class='col-lg-6'>
            <span class="glyphicon glyphicon-remove" style="float:right;cursor: pointer;" ng-click="vm.closeBargainWithModal('#bargainWithModal')"></span>
            <div class="lightbox-body" ng-include="'app/feature/itemDetail/modal/addAnswerModal.html'"></div>
        </snap-lightbox>
    </div>
</div>
